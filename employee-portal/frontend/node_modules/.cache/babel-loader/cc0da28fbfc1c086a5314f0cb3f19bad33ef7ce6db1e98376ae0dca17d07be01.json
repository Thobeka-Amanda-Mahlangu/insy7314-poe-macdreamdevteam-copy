{"ast":null,"code":"// frontend/src/utils/formatters.js\n\n/*\n    Data formatting utilities for professional display\n    \n    Features:\n    - Account number masking for privacy\n    - Currency formatting\n    - Date formatting\n    - ID number masking (GDPR/POPIA compliance)\n    \n    Security References (Harvard style):\n    1. OWASP, 2025. *Data Minimization*. [online] Available at: \n       <https://cheatsheetseries.owasp.org/cheatsheets/Authentication_Cheat_Sheet.html>\n    2. POPIA, 2025. *Protection of Personal Information Act*. [online] Available at:\n       <https://popia.co.za/>\n*/\n\n/**\n * Mask account number for privacy\n * Shows first 3 and last 3 characters, masks the rest\n * Example: ACC123456 → ACC****456\n * \n * @param {string} accountNumber - The account number to mask\n * @returns {string} - Masked account number\n */\nexport const maskAccountNumber = accountNumber => {\n  if (!accountNumber || typeof accountNumber !== 'string') return 'N/A';\n  const cleaned = accountNumber.trim();\n  if (cleaned.length <= 6) {\n    // If too short, just mask middle\n    return cleaned.substring(0, 2) + '***' + cleaned.substring(cleaned.length - 1);\n  }\n\n  // Show first 3 and last 3, mask the middle\n  const first = cleaned.substring(0, 3);\n  const last = cleaned.substring(cleaned.length - 3);\n  const middle = '*'.repeat(Math.min(cleaned.length - 6, 6));\n  return `${first}${middle}${last}`;\n};\n\n/**\n * Mask ID number for privacy (POPIA compliance)\n * Shows only last 4 digits\n * Example: 9001015009087 → *********9087\n * \n * @param {string} idNumber - The ID number to mask\n * @returns {string} - Masked ID number\n */\nexport const maskIdNumber = idNumber => {\n  if (!idNumber || typeof idNumber !== 'string') return 'N/A';\n  const cleaned = idNumber.trim();\n  if (cleaned.length <= 4) return cleaned;\n  const last4 = cleaned.substring(cleaned.length - 4);\n  const masked = '*'.repeat(cleaned.length - 4);\n  return `${masked}${last4}`;\n};\n\n/**\n * Format currency amount with symbol\n * Example: 1000, 'ZAR' → R 1,000.00\n * \n * @param {number} amount - The amount to format\n * @param {string} currency - Currency code (ISO 4217)\n * @returns {string} - Formatted currency string\n */\nexport const formatCurrency = (amount, currency = 'ZAR') => {\n  if (typeof amount !== 'number') return 'N/A';\n  try {\n    return new Intl.NumberFormat('en-ZA', {\n      style: 'currency',\n      currency: currency,\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }).format(amount);\n  } catch (error) {\n    // Fallback if currency code is invalid\n    return `${currency} ${amount.toFixed(2)}`;\n  }\n};\n\n/**\n * Format date for display\n * Example: 2025-01-06T10:30:00.000Z → Jan 6, 2025, 10:30 AM\n * \n * @param {string|Date} dateString - The date to format\n * @param {boolean} includeTime - Whether to include time\n * @returns {string} - Formatted date string\n */\nexport const formatDate = (dateString, includeTime = true) => {\n  if (!dateString) return 'N/A';\n  const date = new Date(dateString);\n  if (isNaN(date.getTime())) return 'Invalid Date';\n  const options = {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  };\n  if (includeTime) {\n    options.hour = '2-digit';\n    options.minute = '2-digit';\n  }\n  return date.toLocaleString('en-US', options);\n};\n\n/**\n * Format date as relative time\n * Example: \"2 hours ago\", \"3 days ago\"\n * \n * @param {string|Date} dateString - The date to format\n * @returns {string} - Relative time string\n */\nexport const formatRelativeTime = dateString => {\n  if (!dateString) return 'N/A';\n  const date = new Date(dateString);\n  const now = new Date();\n  const diffMs = now - date;\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMs / 3600000);\n  const diffDays = Math.floor(diffMs / 86400000);\n  if (diffMins < 1) return 'Just now';\n  if (diffMins < 60) return `${diffMins} minute${diffMins > 1 ? 's' : ''} ago`;\n  if (diffHours < 24) return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;\n  if (diffDays < 7) return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;\n  return formatDate(dateString, false);\n};\n\n/**\n * Get initials from full name\n * Example: \"John Doe\" → \"JD\"\n * \n * @param {string} fullName - The full name\n * @returns {string} - Initials (max 2 letters)\n */\nexport const getInitials = fullName => {\n  if (!fullName || typeof fullName !== 'string') return '??';\n  const parts = fullName.trim().split(' ');\n  if (parts.length === 1) {\n    return parts[0].substring(0, 2).toUpperCase();\n  }\n  const first = parts[0][0] || '';\n  const last = parts[parts.length - 1][0] || '';\n  return (first + last).toUpperCase();\n};\n\n/**\n * Truncate text with ellipsis\n * Example: \"Long text here\" → \"Long te...\"\n * \n * @param {string} text - Text to truncate\n * @param {number} maxLength - Maximum length\n * @returns {string} - Truncated text\n */\nexport const truncateText = (text, maxLength = 50) => {\n  if (!text || typeof text !== 'string') return '';\n  if (text.length <= maxLength) return text;\n  return text.substring(0, maxLength - 3) + '...';\n};\n\n/**\n * Format SWIFT code with spacing for readability\n * Example: ABCDEFGH123 → ABCD EFGH 123\n * \n * @param {string} swift - SWIFT code\n * @returns {string} - Formatted SWIFT code\n */\nexport const formatSwift = swift => {\n  if (!swift || typeof swift !== 'string') return 'N/A';\n  const cleaned = swift.trim();\n\n  // Add space after 4th and 8th character\n  if (cleaned.length >= 8) {\n    return cleaned.substring(0, 4) + ' ' + cleaned.substring(4, 8) + ' ' + cleaned.substring(8);\n  }\n  return cleaned;\n};\nexport default {\n  maskAccountNumber,\n  maskIdNumber,\n  formatCurrency,\n  formatDate,\n  formatRelativeTime,\n  getInitials,\n  truncateText,\n  formatSwift\n};","map":{"version":3,"names":["maskAccountNumber","accountNumber","cleaned","trim","length","substring","first","last","middle","repeat","Math","min","maskIdNumber","idNumber","last4","masked","formatCurrency","amount","currency","Intl","NumberFormat","style","minimumFractionDigits","maximumFractionDigits","format","error","toFixed","formatDate","dateString","includeTime","date","Date","isNaN","getTime","options","year","month","day","hour","minute","toLocaleString","formatRelativeTime","now","diffMs","diffMins","floor","diffHours","diffDays","getInitials","fullName","parts","split","toUpperCase","truncateText","text","maxLength","formatSwift","swift"],"sources":["/Users/nandimsimanga/NewDevSpace/Work-School/insy7314-poe-macdreamdevteam/employee-portal/frontend/src/utils/formatters.js"],"sourcesContent":["// frontend/src/utils/formatters.js\n\n/*\n    Data formatting utilities for professional display\n    \n    Features:\n    - Account number masking for privacy\n    - Currency formatting\n    - Date formatting\n    - ID number masking (GDPR/POPIA compliance)\n    \n    Security References (Harvard style):\n    1. OWASP, 2025. *Data Minimization*. [online] Available at: \n       <https://cheatsheetseries.owasp.org/cheatsheets/Authentication_Cheat_Sheet.html>\n    2. POPIA, 2025. *Protection of Personal Information Act*. [online] Available at:\n       <https://popia.co.za/>\n*/\n\n/**\n * Mask account number for privacy\n * Shows first 3 and last 3 characters, masks the rest\n * Example: ACC123456 → ACC****456\n * \n * @param {string} accountNumber - The account number to mask\n * @returns {string} - Masked account number\n */\nexport const maskAccountNumber = (accountNumber) => {\n  if (!accountNumber || typeof accountNumber !== 'string') return 'N/A';\n  \n  const cleaned = accountNumber.trim();\n  \n  if (cleaned.length <= 6) {\n    // If too short, just mask middle\n    return cleaned.substring(0, 2) + '***' + cleaned.substring(cleaned.length - 1);\n  }\n  \n  // Show first 3 and last 3, mask the middle\n  const first = cleaned.substring(0, 3);\n  const last = cleaned.substring(cleaned.length - 3);\n  const middle = '*'.repeat(Math.min(cleaned.length - 6, 6));\n  \n  return `${first}${middle}${last}`;\n};\n\n/**\n * Mask ID number for privacy (POPIA compliance)\n * Shows only last 4 digits\n * Example: 9001015009087 → *********9087\n * \n * @param {string} idNumber - The ID number to mask\n * @returns {string} - Masked ID number\n */\nexport const maskIdNumber = (idNumber) => {\n  if (!idNumber || typeof idNumber !== 'string') return 'N/A';\n  \n  const cleaned = idNumber.trim();\n  \n  if (cleaned.length <= 4) return cleaned;\n  \n  const last4 = cleaned.substring(cleaned.length - 4);\n  const masked = '*'.repeat(cleaned.length - 4);\n  \n  return `${masked}${last4}`;\n};\n\n/**\n * Format currency amount with symbol\n * Example: 1000, 'ZAR' → R 1,000.00\n * \n * @param {number} amount - The amount to format\n * @param {string} currency - Currency code (ISO 4217)\n * @returns {string} - Formatted currency string\n */\nexport const formatCurrency = (amount, currency = 'ZAR') => {\n  if (typeof amount !== 'number') return 'N/A';\n  \n  try {\n    return new Intl.NumberFormat('en-ZA', {\n      style: 'currency',\n      currency: currency,\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }).format(amount);\n  } catch (error) {\n    // Fallback if currency code is invalid\n    return `${currency} ${amount.toFixed(2)}`;\n  }\n};\n\n/**\n * Format date for display\n * Example: 2025-01-06T10:30:00.000Z → Jan 6, 2025, 10:30 AM\n * \n * @param {string|Date} dateString - The date to format\n * @param {boolean} includeTime - Whether to include time\n * @returns {string} - Formatted date string\n */\nexport const formatDate = (dateString, includeTime = true) => {\n  if (!dateString) return 'N/A';\n  \n  const date = new Date(dateString);\n  \n  if (isNaN(date.getTime())) return 'Invalid Date';\n  \n  const options = {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  };\n  \n  if (includeTime) {\n    options.hour = '2-digit';\n    options.minute = '2-digit';\n  }\n  \n  return date.toLocaleString('en-US', options);\n};\n\n/**\n * Format date as relative time\n * Example: \"2 hours ago\", \"3 days ago\"\n * \n * @param {string|Date} dateString - The date to format\n * @returns {string} - Relative time string\n */\nexport const formatRelativeTime = (dateString) => {\n  if (!dateString) return 'N/A';\n  \n  const date = new Date(dateString);\n  const now = new Date();\n  const diffMs = now - date;\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMs / 3600000);\n  const diffDays = Math.floor(diffMs / 86400000);\n  \n  if (diffMins < 1) return 'Just now';\n  if (diffMins < 60) return `${diffMins} minute${diffMins > 1 ? 's' : ''} ago`;\n  if (diffHours < 24) return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;\n  if (diffDays < 7) return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;\n  \n  return formatDate(dateString, false);\n};\n\n/**\n * Get initials from full name\n * Example: \"John Doe\" → \"JD\"\n * \n * @param {string} fullName - The full name\n * @returns {string} - Initials (max 2 letters)\n */\nexport const getInitials = (fullName) => {\n  if (!fullName || typeof fullName !== 'string') return '??';\n  \n  const parts = fullName.trim().split(' ');\n  \n  if (parts.length === 1) {\n    return parts[0].substring(0, 2).toUpperCase();\n  }\n  \n  const first = parts[0][0] || '';\n  const last = parts[parts.length - 1][0] || '';\n  \n  return (first + last).toUpperCase();\n};\n\n/**\n * Truncate text with ellipsis\n * Example: \"Long text here\" → \"Long te...\"\n * \n * @param {string} text - Text to truncate\n * @param {number} maxLength - Maximum length\n * @returns {string} - Truncated text\n */\nexport const truncateText = (text, maxLength = 50) => {\n  if (!text || typeof text !== 'string') return '';\n  \n  if (text.length <= maxLength) return text;\n  \n  return text.substring(0, maxLength - 3) + '...';\n};\n\n/**\n * Format SWIFT code with spacing for readability\n * Example: ABCDEFGH123 → ABCD EFGH 123\n * \n * @param {string} swift - SWIFT code\n * @returns {string} - Formatted SWIFT code\n */\nexport const formatSwift = (swift) => {\n  if (!swift || typeof swift !== 'string') return 'N/A';\n  \n  const cleaned = swift.trim();\n  \n  // Add space after 4th and 8th character\n  if (cleaned.length >= 8) {\n    return cleaned.substring(0, 4) + ' ' + \n           cleaned.substring(4, 8) + ' ' + \n           cleaned.substring(8);\n  }\n  \n  return cleaned;\n};\n\nexport default {\n  maskAccountNumber,\n  maskIdNumber,\n  formatCurrency,\n  formatDate,\n  formatRelativeTime,\n  getInitials,\n  truncateText,\n  formatSwift\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}